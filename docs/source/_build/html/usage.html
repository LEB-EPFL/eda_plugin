<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; event-driven-acquisition 0.2 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom Loop Compilation" href="custom_loop.html" />
    <link rel="prev" title="Welcome to event driven acquisition!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> event-driven-acquisition
          </a>
              <div class="version">
                0.2.5
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-test-environment">Running the test environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_loop.html">Custom Loop Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_components.html">Creating Custom components</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">api</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">event-driven-acquisition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<span id="id1"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Install using pip:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(.venv)</span> <span class="gp">$ </span>pip install eda_plugin
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Install the latest release of <a class="reference external" href="https://micro-manager.org/wiki/Micro-Manager_Nightly_Builds">micro-manager2.0</a></p></li>
<li><p>Install the Micro-Manager plugins:</p></li>
</ol>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">eda_plugin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eda_plugin</span><span class="o">.</span><span class="n">install_mm_plugins</span><span class="p">()</span>
<span class="go"># Choose the main Micro-Manager folder in the file dialog (e.g. C:\Program Files\Micro-Manager-2.0)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Run micro-manager with the zmq server (Tools -&gt; Options -&gt; Run server on port 4827) (<a class="reference external" href="https://github.com/micro-manager/pycro-manager/blob/master/README.md">pycromanager installation</a>)</p></li>
<li><p>Run the PythonEventServer from Plugins -&gt; Developer Tools -&gt; Python Event Server</p></li>
</ol>
<p>Note: This installation does not include tensorflow needed for analysers using neural networks.
Please refer to <a class="reference internal" href="examples.html#tensorflow-installation"><span class="std std-ref">tensorflow installation</span></a> to set your system up.</p>
</div>
<div class="section" id="running-the-test-environment">
<h2>Running the test environment<a class="headerlink" href="#running-the-test-environment" title="Permalink to this headline">¶</a></h2>
<p>With Micro-Manager, the zmq server and PythonEventServer open, run the test environment from the
examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">eda_plugin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">eda_plugin</span><span class="o">.</span><span class="n">examples</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Camera settings</strong></p>
<p>If you are in the Demo configuration of Micro-Manager, acquisitions will normally result in a moving
stripe pattern. The analyser in this basic implementation uses the intensity of the first pixel, so
the readout will also be a wave. If you start an acquisition from the MDA window, you should see the
range of values in the main plot. If the frequency of the wave pattern is very high, you can set
Devices -&gt; Device Property Browser -&gt; Camera-StripeWidth to a smaller value.</p>

    <video width="720"  controls >
    <source src="_media/StripeWidth.mp4" type="video/mp4">
    Video
    </video>
    <p><strong>Calibration</strong></p>
<a class="reference internal image-reference" href="_images/Actuator.png"><img alt="Actuator GUI for the basic implementation" src="_images/Actuator.png" style="width: 200px;" /></a>
<p>The actuator pauses acquisition to match the requested interval. After each interval it opens
acquisition to acquire one timepoint. To be flexible for many systems, the time to open acquisition
can be calibrated using the Calibration button. The EDA-plugin triggers a 5 timepoint acquisition
and calculates the time to open acquisition from the image arrival times. During acquisition, this
value will be further adjusted if the auto-acquisition checkbox is checked. So ideally let it adjust
for one more acquisition and when the value does not increase further, uncheck.</p>
<p><strong>Acquisition</strong></p>
<a class="reference internal image-reference" href="_images/Interpreter_settings.png"><img alt="Settings GUI for the interpreter" src="_images/Interpreter_settings.png" style="width: 200px;" /></a>
<p>If you start acquisition from the Actuator GUI, EDA will be active. Set the thresholds to be in the
range that you have observed for the analyser to be in. Set the thresholds to somewhere in that
range and click the Start button.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to event driven acquisition!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="custom_loop.html" class="btn btn-neutral float-right" title="Custom Loop Compilation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Willi L. Stepp.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>